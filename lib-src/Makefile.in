
all: @LOCAL_LIBS@ @BUILDLIBS@

allegro.a:
	$(MAKE) -C allegro
	ln -s allegro/allegro.a allegro.a

dlcompat/libdl.a:
	cd dlcompat && $(MAKE)

expat.a:
	$(MAKE) -C expat
	ln -s expat/expat.a expat.a

libogg.a:
	$(MAKE) -C libogg
	ln -s libogg/src/.libs/libogg.a libogg.a

libvorbis.a libvorbisfile.a libvorbisenc.a:
	$(MAKE) -C libvorbis
	ln -s libvorbis/lib/.libs/libvorbis.a libvorbis.a
	ln -s libvorbis/lib/.libs/libvorbisfile.a libvorbisfile.a
	ln -s libvorbis/lib/.libs/libvorbisenc.a libvorbisenc.a

libnyquist.a:
	$(MAKE) -C libnyquist
	ln -s libnyquist/libnyquist.a libnyquist.a

libmad.a:
	$(MAKE) -C libmad
	ln -s libmad/.libs/libmad.a libmad.a

libid3tag.a:
	$(MAKE) -C libid3tag
	ln -s libid3tag/.libs/libid3tag.a libid3tag.a

libmad/mad.h: libmad/.libs/libmad.a

libsamplerate.a:
	$(MAKE) -C libsamplerate
	ln -s libsamplerate/src/.libs/libsamplerate.a libsamplerate.a

libresample.a:
	$(MAKE) -C libresample
	ln -s libresample/libresample.a libresample.a

libsndfile.a:
	$(MAKE) -C libsndfile
	ln -s libsndfile/src/.libs/libsndfile.a libsndfile.a

soundtouch.a:
	$(MAKE) -C soundtouch
	ln -s soundtouch/soundtouch.a soundtouch.a

portaudio/pa_unix_oss/portaudio.a:
	cd portaudio/pa_unix_oss && $(MAKE)

portaudio-v19/lib/libportaudio.a:
	cd portaudio-v19 && $(MAKE)

portaudio/pa_mac_core/portaudio.a:
	cd portaudio/pa_mac_core && $(MAKE)

portmixer/px_unix_oss/portmixer.a:
	cd portmixer/px_unix_oss && $(MAKE)

portmixer/px_mac_core/portmixer.a:
	cd portmixer/px_mac_core && $(MAKE)


clean:
	-$(MAKE) -C allegro clean
	-$(MAKE) -C dlcompat clean	
	-$(MAKE) -C expat clean
	-$(MAKE) -C libid3tag clean
	-$(MAKE) -C libmad clean
	-$(MAKE) -C libogg clean
	-$(MAKE) -C libsamplerate clean
	-$(MAKE) -C libresample clean
	-$(MAKE) -C libsndfile clean
	-$(MAKE) -C libvorbis clean
	-$(MAKE) -C libflac clean
	-$(MAKE) -C portaudio/pa_unix_oss clean
	-$(MAKE) -C portaudio/pa_mac_core clean
	-$(MAKE) -C portmixer/px_unix_oss clean
	-$(MAKE) -C portmixer/px_mac_core clean
	-$(MAKE) -C soundtouch clean

distclean:
	-$(MAKE) -C allegro distclean
	-$(MAKE) -C dlcompat distclean
	-$(MAKE) -C expat distclean
	-$(MAKE) -C libid3tag distclean
	-$(MAKE) -C libmad distclean
	-$(MAKE) -C libogg distclean
	-$(MAKE) -C libsamplerate distclean
	-$(MAKE) -C libresample distclean
	-$(MAKE) -C libsndfile distclean
	-$(MAKE) -C libvorbis distclean
	-$(MAKE) -C libflac distclean
	-$(MAKE) -C portaudio/pa_unix_oss distclean
	-$(MAKE) -C portaudio/pa_mac_core distclean
	-$(MAKE) -C portmixer/px_unix_oss distclean
	-$(MAKE) -C portmixer/px_mac_core distclean
	-$(MAKE) -C soundtouch distclean

